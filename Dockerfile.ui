# Em: Dockerfile.ui

# 1. Imagem Base
FROM python:3.11-slim

# 2. Diretório de Trabalho
WORKDIR /app

# --- CORREÇÃO DE VULNERABILIDADES ---
# 3. Atualiza os pacotes do sistema operacional para as versões mais recentes
RUN apt-get update && apt-get upgrade -y && rm -rf /var/lib/apt/lists/*
# --- FIM DA CORREÇÃO ---

# 4. Copia apenas o arquivo de requisitos primeiro
COPY requirements.txt .

# 5. Instala as dependências Python
RUN pip install --no-cache-dir -r requirements.txt

# 6. Copia todo o código do projeto para dentro do container
COPY . .

# 7. Expõe a porta que o Streamlit usa
EXPOSE 8501

# 8. Define o comando padrão para iniciar a interface
CMD ["streamlit", "run", "interface.py", "--server.port=8501", "--server.address=0.0.0.0"] 

#  O --server.address=0.0.0.0 é importante para permitir que o Streamlit aceite conexões de fora do container (ou seja, da sua máquina).